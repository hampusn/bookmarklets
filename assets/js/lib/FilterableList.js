class e{constructor(e=[]){this.items=e instanceof NodeList?[...e]:e,this.filters=[],this.activeFilters={},this.index=[],this.buildIndex()}_itemFilter(e){return this.filters.every((([t,i])=>i.call(null,e,this.activeFilters[t])))}getFilterValue(e){if(e instanceof HTMLInputElement)switch(e.type){case"checkbox":case"radio":return e.checked;default:return e.value}return e instanceof HTMLSelectElement?e.value:null}addFilter(e,t,{eventType:i="change",instant:s=!0}={}){return this.filters.push([e.name,t]),this.activeFilters[e.name]=this.getFilterValue(e),e.addEventListener(i,(t=>{this.activeFilters[e.name]=this.getFilterValue(e),s&&this.applyFilters()})),this}buildIndex(){this.index=[];for(const[e,t]of this.items.entries())this.index.push({...t.dataset,$summary:t.innerText,$index:e})}applyFilters(){for(const e of this.index)this.items[e.$index].hidden=this._itemFilter(e)}}export{e as default};
